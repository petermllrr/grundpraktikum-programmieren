package io.petermueller.petrinetz.views;

import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;

import javax.swing.*;

public class MainFrameView {
	public JFrame mainFrame;
	public JMenuItem menuOpen;
	public JMenuItem menuQuit;
	public JMenuItem menuInfo;
	public JMenuItem menuReload;
	public JMenuItem menuBatchProcessing;
	public JButton buttonOpenSingle;
	public JButton buttonOpenMultiple;
	public JPanel petrinetContainer;
	
	public MainFrameView() {
		System.out.format("%-19s %s %n%-19s %s",
				"Java-Version:",
				System.getProperty("java.version"),
				"Working Directory:",
				System.getProperty("user.dir")
		);
		System.out.println();
		
		mainFrame = new JFrame("Peter Müller — 3274969");
		mainFrame.setMinimumSize(new Dimension(800, 600));
		mainFrame.setSize(new Dimension(1150, 768));
		mainFrame.setLocationRelativeTo(null);
		showMenuBar();
		mainFrame.setVisible(true);
	}
	
	public void showMenuBar() {
		JMenuBar menuBar = new JMenuBar();
		JMenu file = new JMenu("File");	
		JMenu help = new JMenu("Help");
		menuOpen = new JMenuItem("Open…");	
		menuReload = new JMenuItem("Reload");	
		menuBatchProcessing = new JMenuItem("Analyze Multiple Files…");	
		menuQuit = new JMenuItem("Quit");	
		menuInfo = new JMenuItem("Info…");
		
		menuReload.setEnabled(false);

		menuBar.add(file);
		file.add(menuOpen);
		file.add(menuBatchProcessing);
		file.addSeparator();
		file.add(menuReload);
		file.addSeparator();
		file.add(menuQuit);
		menuBar.add(help);
		help.add(menuInfo);
		mainFrame.setJMenuBar(menuBar); 
	}
	
	public void renderMainLayout(
			JToolBar toolbar,
			JPanel statusBar,
			JScrollPane textArea,
			JPanel petriNet,
			JPanel rGraph) {
		JPanel panelBg = new JPanel();
		JSplitPane splitPaneHorizontal = new JSplitPane(
				JSplitPane.HORIZONTAL_SPLIT,
				petriNet,
				rGraph);
		JSplitPane splitPaneVertical = new JSplitPane(
				JSplitPane.VERTICAL_SPLIT,
				splitPaneHorizontal,
				textArea);
		
		panelBg.setBackground(Color.white);
		panelBg.setLayout(new BoxLayout(
				panelBg,
				BoxLayout.PAGE_AXIS
		));
		splitPaneHorizontal.setDividerLocation(0.5);
		splitPaneHorizontal.setResizeWeight(0.5);
		splitPaneHorizontal.setBorder(null);
		splitPaneVertical.setDividerLocation(0.66);
		splitPaneVertical.setResizeWeight(0.66);
		splitPaneVertical.setAlignmentX(Component.LEFT_ALIGNMENT);
		splitPaneVertical.setBorder(null);
		toolbar.setAlignmentX(Component.LEFT_ALIGNMENT);
		statusBar.setAlignmentX(Component.LEFT_ALIGNMENT);
		
		panelBg.add(toolbar);
		panelBg.add(splitPaneVertical);
		panelBg.add(statusBar);
		
		mainFrame.getContentPane().add(panelBg);
	}
}