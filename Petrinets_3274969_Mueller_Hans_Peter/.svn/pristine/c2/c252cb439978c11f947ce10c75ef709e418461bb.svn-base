package io.petermueller.petrinetz.views;

import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.Font;

import javax.swing.*;
import javax.swing.border.Border;

public class MainFrameView {
	public JFrame mainFrame;
	public JMenuItem open;
	public JMenuItem quit;
	public JMenuItem info;
	public JButton buttonOpenSingle;
	public JButton buttonOpenMultiple;
	public JPanel petrinetContainer;
	
	public MainFrameView() {
		System.out.format("%-19s %s %n%-19s %s",
			"Java-Version:",
			System.getProperty("java.version"),
			"Working Directory:",
			System.getProperty("user.dir")
		);
		System.out.println();
		
		mainFrame = new JFrame("Peter Müller — 3274969");
		mainFrame.setMinimumSize(new Dimension(800, 600));
		mainFrame.setSize(new Dimension(1024, 768));
		mainFrame.setLocationRelativeTo(null);
		showMenuBar();
		mainFrame.setVisible(true);
	}
	
	public void showMenuBar() {
		JMenuBar menuBar = new JMenuBar();
		JMenu file = new JMenu("File");	
		JMenu help = new JMenu("Help");
		open = new JMenuItem("Open…");	
		JMenuItem reload = new JMenuItem("Reload");	
		JMenuItem analyzeMultiple = new JMenuItem("Analyze Multiple Files…");	
		quit = new JMenuItem("Quit");	
		info = new JMenuItem("Info…");
		/*
		menuBar.setBorder(BorderFactory.createMatteBorder(
			0, 0, 2, 0,
			new Color(218, 220, 224)
		));
		*/
		
		menuBar.add(file);
		file.add(open);
		file.add(analyzeMultiple);
		file.addSeparator();
		file.add(reload);
		file.addSeparator();
		file.add(quit);
		menuBar.add(help);
		help.add(info);
		mainFrame.setJMenuBar(menuBar); 
	}
	
	public void renderMainLayout(
			JToolBar toolbar,
			JPanel statusBar,
			JScrollPane textArea,
			JPanel petriNet) {
		mainFrame.getContentPane().removeAll();
		
		JPanel panelBg = new JPanel();
		JPanel EGPlaceholder = new JPanel();
		JSplitPane splitPaneHorizontal = new JSplitPane(
			JSplitPane.HORIZONTAL_SPLIT,
			petriNet,
			EGPlaceholder);
		JSplitPane splitPaneVertical = new JSplitPane(
			JSplitPane.VERTICAL_SPLIT,
			splitPaneHorizontal,
			textArea);
		
		panelBg.setBackground(Color.white);
		panelBg.setLayout(new BoxLayout(
			panelBg,
			BoxLayout.PAGE_AXIS
		));
		splitPaneHorizontal.setDividerLocation(0.5);
		splitPaneHorizontal.setResizeWeight(0.5);
		splitPaneHorizontal.setBorder(null);
		splitPaneVertical.setDividerLocation(0.66);
		splitPaneVertical.setResizeWeight(0.66);
		splitPaneVertical.setAlignmentX(Component.LEFT_ALIGNMENT);
		splitPaneVertical.setBorder(null);
		toolbar.setAlignmentX(Component.LEFT_ALIGNMENT);
		statusBar.setAlignmentX(Component.LEFT_ALIGNMENT);
		EGPlaceholder.setBackground(Color.white);
		Border outline = BorderFactory.createLineBorder(new Color(0xDADCE0), 1);
		EGPlaceholder.setBorder(outline);
		
		panelBg.add(toolbar);
		panelBg.add(splitPaneVertical);
		panelBg.add(statusBar);
		EGPlaceholder.add(new JLabel("EG placeholder"));
		
		mainFrame.add(panelBg);
		mainFrame.revalidate();
		mainFrame.repaint();
	}
}